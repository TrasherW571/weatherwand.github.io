<!DOCTYPE html>
<html>
  <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="ie=edge">
      <title>Document</title>
  </head>
  <body>
      <script src="https://apis.google.com/js/api.js"></script>
      <script>
        /**
         * Sample JavaScript code for search.cse.list
         * See instructions for running APIs Explorer code samples locally:
         * https://developers.google.com/explorer-help/guides/code_samples#javascript
         */
      
        function loadClient() {
          gapi.client.setApiKey("AIzaSyDeK-20S_t_t-Q8aO1815DVuATW1YHjEvA");
          return gapi.client.load("https://content.googleapis.com/discovery/v1/apis/customsearch/v1/rest")
              .then(function() { console.log("GAPI client loaded for API"); },
                    function(err) { console.error("Error loading GAPI client for API", err); });
        }
        // Make sure the client is loaded before calling this method.
        function execute() {
          return gapi.client.search.cse.list({
            "q": "umbrella",
            "cx": "012123320383898428184:hmfuaqhzbru",
            "num": 1
          })
              .then(function(response) {
                      // Handle the results here (response.result has the parsed body).
                      //console.log("Response", response);
                      //var results = response.result;
                    },
                    function(err) { console.error("Execute error", err); });
        }
        gapi.load("client");
      </script>
      
      <button onclick="loadClient()">load</button>
      <button onclick="execute()">execute</button>

      
      <div>
        <!-- accessing search engine -->
        <script async src="https://cse.google.com/cse.js?cx=012123320383898428184:hmfuaqhzbru"></script>
        <!-- Search Results Box -->
        <div class="gcse-searchresults-only"></div>
      </div>
    </body>
</html>